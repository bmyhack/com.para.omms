{"openapi":"3.1.0","info":{"title":"OMMS","description":"Operations Management and Monitoring System","version":"1.0.0"},"paths":{"/api/v1/auth/login":{"post":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Login","description":"用户登录","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Read Users Me","description":"获取当前用户信息","operationId":"read_users_me_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/v1/auth/users":{"get":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Read Users","description":"获取用户列表","operationId":"read_users_api_v1_auth_users_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"跳过记录数","default":0,"title":"Skip"},"description":"跳过记录数"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"返回记录数","default":100,"title":"Limit"},"description":"返回记录数"},{"name":"username","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"用户名过滤","title":"Username"},"description":"用户名过滤"},{"name":"email","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"邮箱过滤","title":"Email"},"description":"邮箱过滤"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"是否激活","title":"Is Active"},"description":"是否激活"},{"name":"is_superuser","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"是否超级管理员","title":"Is Superuser"},"description":"是否超级管理员"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"},"title":"Response Read Users Api V1 Auth Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Create User Route","description":"创建用户","operationId":"create_user_route_api_v1_auth_users_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/users/{user_id}":{"get":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Read User","description":"获取用户详情","operationId":"read_user_api_v1_auth_users__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"用户ID","title":"User Id"},"description":"用户ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Update User Route","description":"更新用户信息","operationId":"update_user_route_api_v1_auth_users__user_id__put","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"用户ID","title":"User Id"},"description":"用户ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Delete User Route","description":"删除用户","operationId":"delete_user_route_api_v1_auth_users__user_id__delete","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"用户ID","title":"User Id"},"description":"用户ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/roles":{"get":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Read Roles","description":"获取角色列表","operationId":"read_roles_api_v1_auth_roles_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"跳过记录数","default":0,"title":"Skip"},"description":"跳过记录数"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"返回记录数","default":100,"title":"Limit"},"description":"返回记录数"},{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"角色名称过滤","title":"Name"},"description":"角色名称过滤"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Role"},"title":"Response Read Roles Api V1 Auth Roles Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Create Role Route","description":"创建角色","operationId":"create_role_route_api_v1_auth_roles_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/roles/{role_id}":{"get":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Read Role","description":"获取角色详情","operationId":"read_role_api_v1_auth_roles__role_id__get","parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"角色ID","title":"Role Id"},"description":"角色ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Update Role Route","description":"更新角色信息","operationId":"update_role_route_api_v1_auth_roles__role_id__put","parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"角色ID","title":"Role Id"},"description":"角色ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Delete Role Route","description":"删除角色","operationId":"delete_role_route_api_v1_auth_roles__role_id__delete","parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"角色ID","title":"Role Id"},"description":"角色ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/users/{user_id}/roles/{role_id}":{"post":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Assign Role To User Route","description":"为用户分配角色","operationId":"assign_role_to_user_route_api_v1_auth_users__user_id__roles__role_id__post","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"用户ID","title":"User Id"},"description":"用户ID"},{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"角色ID","title":"Role Id"},"description":"角色ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Remove Role From User Route","description":"从用户移除角色","operationId":"remove_role_from_user_route_api_v1_auth_users__user_id__roles__role_id__delete","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"用户ID","title":"User Id"},"description":"用户ID"},{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"角色ID","title":"Role Id"},"description":"角色ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/permissions":{"get":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Read Permissions","description":"获取权限列表","operationId":"read_permissions_api_v1_auth_permissions_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"跳过记录数","default":0,"title":"Skip"},"description":"跳过记录数"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"返回记录数","default":100,"title":"Limit"},"description":"返回记录数"},{"name":"code","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"权限代码过滤","title":"Code"},"description":"权限代码过滤"},{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"权限名称过滤","title":"Name"},"description":"权限名称过滤"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Permission"},"title":"Response Read Permissions Api V1 Auth Permissions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Create Permission Route","description":"创建权限","operationId":"create_permission_route_api_v1_auth_permissions_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Permission"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/permissions/{permission_id}":{"get":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Read Permission","description":"获取权限详情","operationId":"read_permission_api_v1_auth_permissions__permission_id__get","parameters":[{"name":"permission_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"权限ID","title":"Permission Id"},"description":"权限ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Permission"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Update Permission Route","description":"更新权限信息","operationId":"update_permission_route_api_v1_auth_permissions__permission_id__put","parameters":[{"name":"permission_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"权限ID","title":"Permission Id"},"description":"权限ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Permission"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Delete Permission Route","description":"删除权限","operationId":"delete_permission_route_api_v1_auth_permissions__permission_id__delete","parameters":[{"name":"permission_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"权限ID","title":"Permission Id"},"description":"权限ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/roles/{role_id}/permissions/{permission_id}":{"post":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Assign Permission To Role Route","description":"为角色分配权限","operationId":"assign_permission_to_role_route_api_v1_auth_roles__role_id__permissions__permission_id__post","parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"角色ID","title":"Role Id"},"description":"角色ID"},{"name":"permission_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"权限ID","title":"Permission Id"},"description":"权限ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Remove Permission From Role Route","description":"从角色移除权限","operationId":"remove_permission_from_role_route_api_v1_auth_roles__role_id__permissions__permission_id__delete","parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"角色ID","title":"Role Id"},"description":"角色ID"},{"name":"permission_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"权限ID","title":"Permission Id"},"description":"权限ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/users/{user_id}/permissions":{"get":{"tags":["用户认证与管理","用户认证与管理"],"summary":"Get User Permissions Route","description":"获取用户所有权限","operationId":"get_user_permissions_route_api_v1_auth_users__user_id__permissions_get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"description":"用户ID","title":"User Id"},"description":"用户ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Permission":{"properties":{"code":{"type":"string","title":"Code","description":"权限代码"},"name":{"type":"string","title":"Name","description":"权限名称"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"权限描述"},"id":{"type":"integer","title":"Id","description":"权限ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"创建时间"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"更新时间"}},"type":"object","required":["code","name","id","created_at","updated_at"],"title":"Permission"},"PermissionCreate":{"properties":{"code":{"type":"string","title":"Code","description":"权限代码"},"name":{"type":"string","title":"Name","description":"权限名称"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"权限描述"}},"type":"object","required":["code","name"],"title":"PermissionCreate"},"PermissionUpdate":{"properties":{"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code","description":"权限代码"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"权限名称"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"权限描述"}},"type":"object","title":"PermissionUpdate"},"Role":{"properties":{"name":{"type":"string","title":"Name","description":"角色名称"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"角色描述"},"id":{"type":"integer","title":"Id","description":"角色ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"创建时间"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"更新时间"}},"type":"object","required":["name","id","created_at","updated_at"],"title":"Role"},"RoleCreate":{"properties":{"name":{"type":"string","title":"Name","description":"角色名称"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"角色描述"}},"type":"object","required":["name"],"title":"RoleCreate"},"RoleUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"角色名称"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"角色描述"}},"type":"object","title":"RoleUpdate"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token","description":"访问令牌"},"token_type":{"type":"string","title":"Token Type","description":"令牌类型","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In","description":"过期时间(秒)"},"user_id":{"type":"integer","title":"User Id","description":"用户ID"},"username":{"type":"string","title":"Username","description":"用户名"}},"type":"object","required":["access_token","expires_in","user_id","username"],"title":"Token"},"User":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username","description":"用户名"},"email":{"type":"string","format":"email","title":"Email","description":"邮箱"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name","description":"全名"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone","description":"电话"},"avatar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar","description":"头像"},"is_active":{"type":"boolean","title":"Is Active","description":"是否激活","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"是否超级管理员","default":false},"id":{"type":"integer","title":"Id","description":"用户ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"创建时间"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"更新时间"},"last_login":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login","description":"最后登录时间"},"roles":{"items":{"$ref":"#/components/schemas/Role"},"type":"array","title":"Roles","description":"用户角色","default":[]}},"type":"object","required":["username","email","id","created_at","updated_at"],"title":"User"},"UserCreate":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username","description":"用户名"},"email":{"type":"string","format":"email","title":"Email","description":"邮箱"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name","description":"全名"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone","description":"电话"},"avatar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar","description":"头像"},"is_active":{"type":"boolean","title":"Is Active","description":"是否激活","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"是否超级管理员","default":false},"password":{"type":"string","minLength":6,"title":"Password","description":"密码"}},"type":"object","required":["username","email","password"],"title":"UserCreate"},"UserLogin":{"properties":{"username":{"type":"string","title":"Username","description":"用户名"},"password":{"type":"string","title":"Password","description":"密码"}},"type":"object","required":["username","password"],"title":"UserLogin"},"UserUpdate":{"properties":{"username":{"anyOf":[{"type":"string","maxLength":50,"minLength":3},{"type":"null"}],"title":"Username","description":"用户名"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email","description":"邮箱"},"password":{"anyOf":[{"type":"string","minLength":6},{"type":"null"}],"title":"Password","description":"密码"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name","description":"全名"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone","description":"电话"},"avatar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar","description":"头像"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"是否激活"},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser","description":"是否超级管理员"}},"type":"object","title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}