import{d as J,r as x,a as o,c as K,b as l,w as t,f,e as s,l as i,n as L,_ as M}from"./index-DWM3VSvK.js";const O={class:"role-container"},Q={class:"card-header"},W={class:"pagination-container"},X={class:"dialog-footer"},Y={class:"dialog-footer"},Z=J({__name:"index",setup(h){const c=x({name:""}),z=o([{id:1,name:"管理员",description:"系统管理员",createdAt:"2023-01-01 00:00:00"},{id:2,name:"普通用户",description:"普通用户",createdAt:"2023-01-01 00:00:00"}]),_=o(1),b=o(10),w=o(100),u=o(!1),k=o("add"),r=x({id:0,name:"",description:""}),m=o(!1),U=o(null),S=o(0),$=o([{id:1,name:"用户管理",children:[{id:11,name:"查看用户"},{id:12,name:"创建用户"},{id:13,name:"编辑用户"},{id:14,name:"删除用户"}]},{id:2,name:"角色管理",children:[{id:21,name:"查看角色"},{id:22,name:"创建角色"},{id:23,name:"编辑角色"},{id:24,name:"删除角色"}]}]),D=o([11,21]),P=()=>{},T=()=>{c.name=""},A=a=>{b.value=a},B=a=>{_.value=a},I=a=>{k.value="edit",r.id=a.id,r.name=a.name,r.description=a.description,u.value=!0},N=a=>{},E=()=>{u.value=!1},F=a=>{S.value=a.id,m.value=!0},j=()=>{m.value=!1};return(a,e)=>{const d=s("el-button"),g=s("el-input"),v=s("el-form-item"),C=s("el-form"),p=s("el-table-column"),R=s("el-table"),q=s("el-pagination"),V=s("el-dialog"),G=s("el-tree"),H=s("el-card");return L(),K("div",O,[l(H,null,{header:t(()=>[f("div",Q,[e[11]||(e[11]=f("span",null,"角色管理",-1)),l(d,{type:"primary",onClick:e[0]||(e[0]=n=>u.value=!0)},{default:t(()=>e[10]||(e[10]=[i(" 新增角色 ")])),_:1})])]),default:t(()=>[l(C,{inline:!0,class:"search-form"},{default:t(()=>[l(v,{label:"角色名称"},{default:t(()=>[l(g,{modelValue:c.name,"onUpdate:modelValue":e[1]||(e[1]=n=>c.name=n),placeholder:"请输入角色名称",clearable:""},null,8,["modelValue"])]),_:1}),l(v,null,{default:t(()=>[l(d,{type:"primary",onClick:P},{default:t(()=>e[12]||(e[12]=[i("搜索")])),_:1}),l(d,{onClick:T},{default:t(()=>e[13]||(e[13]=[i("重置")])),_:1})]),_:1})]),_:1}),l(R,{data:z.value,border:"",style:{width:"100%"}},{default:t(()=>[l(p,{prop:"id",label:"ID",width:"80"}),l(p,{prop:"name",label:"角色名称"}),l(p,{prop:"description",label:"描述"}),l(p,{prop:"createdAt",label:"创建时间"}),l(p,{label:"操作",width:"250"},{default:t(n=>[l(d,{size:"small",onClick:y=>I(n.row)},{default:t(()=>e[14]||(e[14]=[i("编辑")])),_:2},1032,["onClick"]),l(d,{size:"small",type:"success",onClick:y=>F(n.row)},{default:t(()=>e[15]||(e[15]=[i("权限设置")])),_:2},1032,["onClick"]),l(d,{size:"small",type:"danger",onClick:y=>N(n.row)},{default:t(()=>e[16]||(e[16]=[i("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),f("div",W,[l(q,{"current-page":_.value,"onUpdate:currentPage":e[2]||(e[2]=n=>_.value=n),"page-size":b.value,"onUpdate:pageSize":e[3]||(e[3]=n=>b.value=n),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:w.value,onSizeChange:A,onCurrentChange:B},null,8,["current-page","page-size","total"])]),l(V,{modelValue:u.value,"onUpdate:modelValue":e[7]||(e[7]=n=>u.value=n),title:k.value==="add"?"新增角色":"编辑角色"},{footer:t(()=>[f("span",X,[l(d,{onClick:e[6]||(e[6]=n=>u.value=!1)},{default:t(()=>e[17]||(e[17]=[i("取消")])),_:1}),l(d,{type:"primary",onClick:E},{default:t(()=>e[18]||(e[18]=[i("确定")])),_:1})])]),default:t(()=>[l(C,{model:r,"label-width":"80px"},{default:t(()=>[l(v,{label:"角色名称"},{default:t(()=>[l(g,{modelValue:r.name,"onUpdate:modelValue":e[4]||(e[4]=n=>r.name=n)},null,8,["modelValue"])]),_:1}),l(v,{label:"描述"},{default:t(()=>[l(g,{modelValue:r.description,"onUpdate:modelValue":e[5]||(e[5]=n=>r.description=n),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(V,{modelValue:m.value,"onUpdate:modelValue":e[9]||(e[9]=n=>m.value=n),title:"权限设置"},{footer:t(()=>[f("span",Y,[l(d,{onClick:e[8]||(e[8]=n=>m.value=!1)},{default:t(()=>e[19]||(e[19]=[i("取消")])),_:1}),l(d,{type:"primary",onClick:j},{default:t(()=>e[20]||(e[20]=[i("保存")])),_:1})])]),default:t(()=>[l(G,{ref_key:"permissionTree",ref:U,data:$.value,"show-checkbox":"","node-key":"id","default-checked-keys":D.value,props:{label:"name"}},null,8,["data","default-checked-keys"])]),_:1},8,["modelValue"])]),_:1})])}}}),le=M(Z,[["__scopeId","data-v-55e8fb42"]]);export{le as default};
